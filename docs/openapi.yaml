openapi: 3.0.0
paths:
  /:
    get:
      operationId: getHello
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - App
  /categories:
    post:
      operationId: create
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCategoryDto'
      responses:
        '201':
          description: Category created successfully.
        '400':
          description: Invalid input.
      security: &ref_0
        - api-key: []
      summary: Create a new category
      tags: &ref_1
        - categories
    get:
      operationId: findAll
      parameters: []
      responses:
        '200':
          description: List of categories.
      security: *ref_0
      summary: Get all categories
      tags: *ref_1
  /categories/{id}:
    get:
      operationId: findOne
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Category found.
        '404':
          description: Category not found.
      security: *ref_0
      summary: Get a category by ID
      tags: *ref_1
    patch:
      operationId: update
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCategoryDto'
      responses:
        '200':
          description: Category updated successfully.
        '404':
          description: Category not found.
      security: *ref_0
      summary: Update a category
      tags: *ref_1
    delete:
      operationId: remove
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Category deleted successfully.
        '404':
          description: Category not found.
      security: *ref_0
      summary: Delete a category
      tags: *ref_1
  /transactions:
    post:
      operationId: create
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTransactionDto'
      responses:
        '201':
          description: Transaction created successfully.
        '400':
          description: Invalid input.
      security: &ref_2
        - api-key: []
      summary: Create a new transaction
      tags: &ref_3
        - transactions
    get:
      operationId: findAll
      parameters:
        - name: month
          required: false
          in: query
          description: Filter by month (YYYY-MM)
          schema:
            example: 2026-03
            type: string
        - name: accountId
          required: false
          in: query
          description: Filter by account ID
          schema:
            example: acc_123456789
            type: string
        - name: categoryId
          required: false
          in: query
          description: Filter by category ID
          schema:
            example: cat_123456789
            type: string
        - name: creditCardId
          required: false
          in: query
          description: Filter by credit card ID
          schema:
            example: cc_123456789
            type: string
        - name: type
          required: false
          in: query
          description: Filter by transaction type
          schema:
            example: EXPENSE
            type: string
            enum:
              - INCOME
              - EXPENSE
        - name: startDate
          required: false
          in: query
          description: Filter by start date (YYYY-MM-DD)
          schema:
            example: '2026-01-01'
            type: string
        - name: endDate
          required: false
          in: query
          description: Filter by end date (YYYY-MM-DD)
          schema:
            example: '2026-01-31'
            type: string
        - name: paid
          required: false
          in: query
          description: Filter by payment status (true = paid, false = unpaid)
          schema:
            example: false
            type: boolean
      responses:
        '200':
          description: List of transactions with related data.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TransactionWithRelationsDto'
      security: *ref_2
      summary: Get all transactions with optional filters
      tags: *ref_3
  /transactions/{id}:
    get:
      operationId: findOne
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Transaction found with related data.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransactionWithRelationsDto'
        '404':
          description: Transaction not found.
      security: *ref_2
      summary: Get a transaction by ID
      tags: *ref_3
    patch:
      operationId: update
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: mode
          required: false
          in: query
          description: >-
            Update mode for recurring transactions: SINGLE (only this
            transaction), PENDING (this and future pending transactions), ALL
            (all transactions in the series)
          schema:
            enum:
              - SINGLE
              - PENDING
              - ALL
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTransactionDto'
      responses:
        '200':
          description: Transaction updated successfully with related data.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransactionWithRelationsDto'
        '404':
          description: Transaction not found.
      security: *ref_2
      summary: Update a transaction
      tags: *ref_3
    delete:
      operationId: remove
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: mode
          required: false
          in: query
          description: >-
            Deletion mode for recurring transactions: SINGLE (only this
            transaction), PENDING (this and future pending transactions), ALL
            (all transactions in the series)
          schema:
            enum:
              - SINGLE
              - PENDING
              - ALL
            type: string
      responses:
        '200':
          description: Transaction deleted successfully.
        '404':
          description: Transaction not found.
      security: *ref_2
      summary: Delete a transaction
      tags: *ref_3
  /transactions/{id}/pay:
    patch:
      operationId: markAsPaid
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Transaction marked as paid with related data.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransactionWithRelationsDto'
        '404':
          description: Transaction not found.
      security: *ref_2
      summary: Mark a transaction as paid
      tags: *ref_3
  /transactions/{id}/unpay:
    patch:
      operationId: markAsUnpaid
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Transaction marked as unpaid with related data.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransactionWithRelationsDto'
        '404':
          description: Transaction not found.
      security: *ref_2
      summary: Mark a transaction as unpaid
      tags: *ref_3
  /summary:
    get:
      description: >-
        Returns income, expenses, balance, credit card totals, and category
        breakdowns. Provide either `month` (YYYY-MM) or both `startDate` and
        `endDate` (YYYY-MM-DD).
      operationId: getSummary
      parameters:
        - name: month
          required: false
          in: query
          description: Month for the summary in YYYY-MM format
          schema:
            example: 2026-02
            type: string
        - name: startDate
          required: false
          in: query
          description: Start date for a custom range in YYYY-MM-DD format
          schema:
            example: '2026-01-01'
            type: string
        - name: endDate
          required: false
          in: query
          description: End date for a custom range in YYYY-MM-DD format
          schema:
            example: '2026-03-31'
            type: string
      responses:
        '200':
          description: Financial summary for the given period.
        '400':
          description: Invalid or missing period parameters.
      security:
        - api-key: []
      summary: Get financial summary
      tags:
        - summary
  /credit-cards:
    post:
      operationId: create
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCreditCardDto'
      responses:
        '201':
          description: Credit card created successfully.
        '400':
          description: Invalid input.
      security: &ref_4
        - api-key: []
      summary: Create a new credit card
      tags: &ref_5
        - credit-cards
    get:
      operationId: findAll
      parameters: []
      responses:
        '200':
          description: List of credit cards.
      security: *ref_4
      summary: Get all credit cards
      tags: *ref_5
  /credit-cards/{id}:
    get:
      operationId: findOne
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Credit card found.
        '404':
          description: Credit card not found.
      security: *ref_4
      summary: Get a credit card by ID
      tags: *ref_5
    patch:
      operationId: update
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCreditCardDto'
      responses:
        '200':
          description: Credit card updated successfully.
        '404':
          description: Credit card not found.
      security: *ref_4
      summary: Update a credit card
      tags: *ref_5
    delete:
      operationId: remove
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Credit card deleted successfully.
        '404':
          description: Credit card not found.
      security: *ref_4
      summary: Delete a credit card
      tags: *ref_5
  /credit-cards/{id}/statement:
    get:
      operationId: getStatement
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: month
          required: true
          in: query
          description: Month for the statement in YYYY-MM format
          schema:
            example: 2026-03
            type: string
      responses:
        '200':
          description: Credit card statement.
        '404':
          description: Credit card not found.
      security: *ref_4
      summary: Get credit card statement for a specific month
      tags: *ref_5
  /credit-cards/{id}/pay-statement:
    post:
      operationId: payStatement
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PayStatementDto'
      responses:
        '200':
          description: Statement marked as paid.
        '404':
          description: Credit card not found.
      security: *ref_4
      summary: Mark all transactions in a credit card statement as paid
      tags: *ref_5
  /credit-cards/{id}/reopen-statement:
    post:
      operationId: reopenStatement
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReopenStatementDto'
      responses:
        '200':
          description: Statement reopened successfully.
        '400':
          description: Statement is already open or invalid input.
        '404':
          description: Credit card not found.
      security: *ref_4
      summary: Reopen a credit card statement by marking all transactions as unpaid
      tags: *ref_5
  /credit-cards/{id}/statement-status:
    get:
      operationId: getStatementStatus
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
        - name: month
          required: true
          in: query
          description: Month for the statement in YYYY-MM format
          schema:
            example: 2026-03
            type: string
      responses:
        '200':
          description: Credit card statement status.
        '404':
          description: Credit card not found.
      security: *ref_4
      summary: Get credit card statement payment status for a specific month
      tags: *ref_5
  /credit-cards/{id}/anticipations:
    post:
      operationId: createAnticipation
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAnticipationDto'
      responses:
        '201':
          description: >-
            Anticipation created: credit card INCOME + account EXPENSE linked
            pair.
        '400':
          description: Statement already closed or invalid input.
        '404':
          description: Credit card or account not found.
      security: *ref_4
      summary: Create a credit card anticipation (advance payment toward the statement)
      tags: *ref_5
  /accounts:
    post:
      operationId: create
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAccountDto'
      responses:
        '201':
          description: Account created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountResponseDto'
        '400':
          description: Invalid input data
      summary: Create a new account
      tags: &ref_6
        - accounts
    get:
      operationId: findAll
      parameters: []
      responses:
        '200':
          description: List of all accounts
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AccountResponseDto'
      summary: Get all accounts
      tags: *ref_6
  /accounts/{id}:
    get:
      operationId: findOne
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Account retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountResponseDto'
        '404':
          description: Account not found
      summary: Get an account by ID
      tags: *ref_6
    patch:
      operationId: update
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateAccountDto'
      responses:
        '200':
          description: Account updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountResponseDto'
        '404':
          description: Account not found
      summary: Update an account
      tags: *ref_6
    delete:
      operationId: remove
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '204':
          description: Account deleted successfully
        '404':
          description: Account not found
        '409':
          description: Cannot delete account with associated transactions
      summary: Delete an account
      tags: *ref_6
  /accounts/{id}/balance:
    get:
      operationId: getAccountBalance
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Account balance retrieved successfully
          content:
            application/json:
              schema:
                type: object
        '404':
          description: Account not found
      summary: Get the current balance for an account
      tags: *ref_6
  /auth/login:
    post:
      operationId: login
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginDto'
      responses:
        '201':
          description: ''
      tags:
        - Auth
  /settings:
    post:
      operationId: create
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSettingsDto'
      responses:
        '201':
          description: Settings created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SettingsResponseDto'
        '400':
          description: Invalid input data
        '409':
          description: Settings already exist
      summary: Create global settings (only if not exists)
      tags: &ref_7
        - settings
    get:
      operationId: findAll
      parameters: []
      responses:
        '200':
          description: Settings retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SettingsResponseDto'
        '404':
          description: Settings not found
      summary: Get global settings
      tags: *ref_7
    put:
      operationId: update
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateSettingsDto'
      responses:
        '200':
          description: Settings updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SettingsResponseDto'
        '400':
          description: Invalid input data
        '404':
          description: Settings not found
      summary: Update global settings
      tags: *ref_7
  /export:
    get:
      operationId: export
      parameters: []
      responses:
        '200':
          description: ''
      tags: &ref_8
        - DataTransfer
  /import:
    post:
      operationId: import
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ImportDataDto'
      responses:
        '201':
          description: ''
      tags: *ref_8
  /transfers:
    post:
      operationId: create
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTransferDto'
      responses:
        '201':
          description: Transfer created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransferResponseDto'
        '400':
          description: Invalid input
        '404':
          description: Account not found
      security: &ref_9
        - api-key: []
      summary: Create a new transfer between accounts
      tags: &ref_10
        - transfers
    get:
      operationId: findAll
      parameters:
        - name: accountId
          required: false
          in: query
          description: Filter by account ID (source or destination)
          schema:
            type: string
        - name: month
          required: false
          in: query
          description: Filter by month (YYYY-MM format)
          schema:
            example: 2026-02
            type: string
        - name: startDate
          required: false
          in: query
          description: Filter from date (YYYY-MM-DD)
          schema:
            example: '2026-02-01'
            type: string
        - name: endDate
          required: false
          in: query
          description: Filter to date (YYYY-MM-DD)
          schema:
            example: '2026-02-28'
            type: string
      responses:
        '200':
          description: List of transfers
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TransferResponseDto'
      security: *ref_9
      summary: List transfers with optional filters
      tags: *ref_10
  /transfers/{id}:
    get:
      operationId: findOne
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Transfer found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransferResponseDto'
        '404':
          description: Transfer not found
      security: *ref_9
      summary: Get a transfer by ID
      tags: *ref_10
    patch:
      operationId: update
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTransferDto'
      responses:
        '200':
          description: Transfer updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransferResponseDto'
        '404':
          description: Transfer not found
      security: *ref_9
      summary: Update a transfer
      tags: *ref_10
    delete:
      operationId: remove
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '204':
          description: Transfer deleted
        '404':
          description: Transfer not found
      security: *ref_9
      summary: Delete a transfer
      tags: *ref_10
info:
  title: Quantix Personal Finance Manager API
  description: >-
    API for managing personal finances including transactions, credit cards,
    categories, and recurring payments


    ## Features

    - Account management

    - Transaction tracking

    - Credit card management

    - Category organization

    - Recurring payment scheduling

    - Financial summaries and reports


    ## Authentication

    This API uses API key authentication. Include your API key in the header as:

    ```

    x-api-key: YOUR_API_KEY

    ```


    ## Base URL

    All API endpoints are relative to: `http://localhost:3000/api`
          
  version: 0.4.0
  contact:
    name: Quantix Support
    url: https://github.com/marcos-venicius/quantix
    email: support@example.com
  license:
    name: MIT
    url: https://github.com/marcos-venicius/quantix/blob/main/LICENSE
tags: []
servers: []
components:
  securitySchemes:
    api-key:
      type: apiKey
      in: header
      name: x-api-key
    bearer:
      scheme: bearer
      bearerFormat: JWT
      type: http
  schemas:
    CreateCategoryDto:
      type: object
      properties:
        name:
          type: string
          description: Name of the category
          example: Groceries
        type:
          type: string
          description: Type of the category
          enum:
            - INCOME
            - EXPENSE
          example: EXPENSE
        color:
          type: object
          description: Color for the category in hexadecimal format
          example: '#FF5733'
          nullable: true
      required:
        - name
        - type
    UpdateCategoryDto:
      type: object
      properties:
        name:
          type: string
          description: Name of the category
          example: Groceries
        color:
          type: object
          description: Color for the category in hexadecimal format
          example: '#FF5733'
          nullable: true
    RecurrenceDto:
      type: object
      properties:
        frequency:
          type: string
          description: Frequency of recurrence
          enum:
            - WEEKLY
            - MONTHLY
            - YEARLY
          example: MONTHLY
        interval:
          type: number
          description: Interval between recurrences
          example: 1
          minimum: 1
        endDate:
          type: string
          description: >-
            End date for recurrence (optional, mutually exclusive with
            occurrences)
          example: '2026-12-31'
        occurrences:
          type: number
          description: Number of occurrences (optional, mutually exclusive with endDate)
          example: 12
          minimum: 2
      required:
        - frequency
        - interval
    CreateTransactionDto:
      type: object
      properties:
        type:
          type: string
          description: Type of the transaction
          enum: &ref_11
            - INCOME
            - EXPENSE
          example: EXPENSE
        name:
          type: object
          description: Name or description of the transaction
          example: Grocery shopping
        amount:
          type: object
          description: Amount of the transaction
          example: 125.75
          minimum: 0
        date:
          type: object
          description: >-
            Date of the transaction (for credit cards, this will be overridden
            by the due day of the card if targetDueMonth is provided)
          example: '2026-01-30'
        categoryId:
          type: string
          description: ID of the associated category
          example: cat_123456789
        paymentMethod:
          type: string
          description: Method of payment
          enum: &ref_12
            - CASH
            - PIX
            - DEBIT
            - CREDIT
          example: CREDIT
        creditCardId:
          type: string
          description: >-
            ID of the associated credit card (required if paymentMethod is
            CREDIT)
          example: cc_123456789
        installments:
          type: number
          description: Number of installments (optional)
          example: 3
          minimum: 1
        targetDueMonth:
          type: string
          description: Target month for due date in YYYY-MM format (optional)
          example: 2026-03
        recurrence:
          description: Recurrence information (optional)
          allOf:
            - $ref: '#/components/schemas/RecurrenceDto'
        accountId:
          type: string
          description: >-
            ID of the associated account (required if paymentMethod is not
            CREDIT)
          example: acc_123456789
        isPaid:
          type: boolean
          description: Whether the transaction has been paid
          example: false
          default: false
        purchaseDate:
          type: string
          description: Actual purchase date (credit card only)
          example: '2026-02-10'
      required:
        - type
        - name
        - amount
        - date
    CategoryDto:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        type:
          type: string
          enum:
            - INCOME
            - EXPENSE
        color:
          type: object
          nullable: true
        createdAt:
          format: date-time
          type: string
      required:
        - id
        - name
        - type
        - createdAt
    CreditCardDto:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        brand:
          type: string
        limitAmount:
          type: number
        closingDay:
          type: number
        dueDay:
          type: number
        availableLimit:
          type: number
        createdAt:
          format: date-time
          type: string
      required:
        - id
        - name
        - limitAmount
        - closingDay
        - dueDay
        - createdAt
    RecurrenceRule:
      type: object
      properties: {}
    AccountDto:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        type:
          type: string
        initialBalance:
          type: number
        currentBalance:
          type: number
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
      required:
        - name
        - type
        - initialBalance
        - currentBalance
    TransactionWithRelationsDto:
      type: object
      properties:
        id:
          type: string
        type:
          type: string
          enum:
            - INCOME
            - EXPENSE
        name:
          type: string
        amount:
          type: number
        date:
          format: date-time
          type: string
        categoryId:
          type: string
        category:
          $ref: '#/components/schemas/CategoryDto'
        paymentMethod:
          type: string
          enum:
            - CASH
            - PIX
            - DEBIT
            - CREDIT
        creditCardId:
          type: string
        creditCard:
          $ref: '#/components/schemas/CreditCardDto'
        recurrenceRule:
          $ref: '#/components/schemas/RecurrenceRule'
        accountId:
          type: string
        account:
          $ref: '#/components/schemas/AccountDto'
        installmentGroupId:
          type: string
        installmentNumber:
          type: number
        installmentTotal:
          type: number
        recurrenceRuleId:
          type: string
        paid:
          type: boolean
        createdAt:
          format: date-time
          type: string
        purchaseDate:
          format: date-time
          type: string
        linkedTransactionId:
          type: string
        isAnticipation:
          type: boolean
          description: >-
            Indicates if this transaction is part of a credit card anticipation
            pair
      required:
        - id
        - type
        - name
        - amount
        - date
        - paid
        - createdAt
    UpdateTransactionDto:
      type: object
      properties:
        type:
          type: string
          description: Type of the transaction
          enum: *ref_11
          example: EXPENSE
        name:
          type: object
          description: Name or description of the transaction
          example: Grocery shopping
        amount:
          type: object
          description: Amount of the transaction
          example: 125.75
          minimum: 0
        date:
          type: object
          description: >-
            Date of the transaction (for credit cards, this will be overridden
            by the due day of the card if targetDueMonth is provided)
          example: '2026-01-30'
        categoryId:
          type: string
          description: ID of the associated category
          example: cat_123456789
        paymentMethod:
          type: string
          description: Method of payment
          enum: *ref_12
          example: CREDIT
        creditCardId:
          type: string
          description: >-
            ID of the associated credit card (required if paymentMethod is
            CREDIT)
          example: cc_123456789
        installments:
          type: number
          description: Number of installments (optional)
          example: 3
          minimum: 1
        targetDueMonth:
          type: string
          description: >-
            Target month for due date in YYYY-MM format (optional). When
            provided for CREDIT payments, the transaction date will be set to
            the credit card's due day in the specified month.
          example: 2026-03
        recurrence:
          description: Recurrence information (optional)
          allOf:
            - $ref: '#/components/schemas/RecurrenceDto'
        accountId:
          type: string
          description: >-
            ID of the associated account (required if paymentMethod is not
            CREDIT)
          example: acc_123456789
        isPaid:
          type: boolean
          description: Whether the transaction has been paid
          example: false
          default: false
        purchaseDate:
          type: string
          description: Actual purchase date (credit card only)
          example: '2026-02-10'
    CreateCreditCardDto:
      type: object
      properties:
        name:
          type: string
          description: Name of the credit card
          example: Nubank Platinum
        brand:
          type: string
          description: Brand of the credit card
          example: Visa
        limitAmount:
          type: number
          description: Credit limit of the card
          example: 5000
          minimum: 0
        closingDay:
          type: number
          description: Day of the month when the billing cycle closes
          example: 15
          minimum: 1
          maximum: 31
        dueDay:
          type: number
          description: Day of the month when the bill is due
          example: 22
          minimum: 1
          maximum: 31
      required:
        - name
        - limitAmount
        - closingDay
        - dueDay
    UpdateCreditCardDto:
      type: object
      properties:
        name:
          type: string
          description: Name of the credit card
          example: Nubank Platinum
        brand:
          type: string
          description: Brand of the credit card
          example: Visa
        limitAmount:
          type: number
          description: Credit limit of the card
          example: 5000
          minimum: 0
        closingDay:
          type: number
          description: Day of the month when the billing cycle closes
          example: 15
          minimum: 1
          maximum: 31
        dueDay:
          type: number
          description: Day of the month when the bill is due
          example: 22
          minimum: 1
          maximum: 31
    PayStatementDto:
      type: object
      properties:
        month:
          type: object
          description: Month for the statement in YYYY-MM format
          example: 2026-03
        paymentAccountId:
          type: object
          description: ID of the account to debit for the payment
          example: acc_123456789
      required:
        - month
        - paymentAccountId
    ReopenStatementDto:
      type: object
      properties:
        month:
          type: object
          description: Month for the statement in YYYY-MM format
          example: 2026-03
      required:
        - month
    CreateAnticipationDto:
      type: object
      properties:
        name:
          type: string
          description: Name/description of the anticipation
        amount:
          type: number
          description: Amount to anticipate
          minimum: 0.01
        purchaseDate:
          type: string
          description: Date the money leaves the account (YYYY-MM-DD)
          example: '2026-02-23'
        targetDueMonth:
          type: string
          description: Target statement due month (YYYY-MM)
          example: 2026-03
        accountId:
          type: string
          description: Account ID from which money will be debited
        categoryId:
          type: string
          description: Category ID for both transactions
      required:
        - name
        - amount
        - purchaseDate
        - targetDueMonth
        - accountId
    CreateAccountDto:
      type: object
      properties:
        name:
          type: string
          description: Name of the account
          example: Itaú Checking Account
        type:
          type: string
          description: Type of account
          enum: &ref_13
            - BANK_ACCOUNT
            - WALLET
            - SAVINGS_ACCOUNT
            - INVESTMENT_ACCOUNT
            - OTHER
          example: BANK_ACCOUNT
        initialBalance:
          type: number
          description: Initial balance for the account
          example: 1000
      required:
        - name
        - type
    AccountResponseDto:
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the account
          example: uuid-string
        name:
          type: string
          description: Name of the account
          example: Itaú Checking Account
        type:
          type: string
          description: Type of account
          enum:
            - BANK_ACCOUNT
            - WALLET
            - SAVINGS_ACCOUNT
            - INVESTMENT_ACCOUNT
            - OTHER
          example: BANK_ACCOUNT
        initialBalance:
          type: number
          description: Initial balance when the account was created
          example: 1000
        currentBalance:
          type: number
          description: Current balance of the account
          example: 850
        createdAt:
          format: date-time
          type: string
          description: Timestamp when the account was created
          example: '2026-02-11T12:00:00Z'
        updatedAt:
          format: date-time
          type: string
          description: Timestamp when the account was last updated
          example: '2026-02-11T15:30:00Z'
      required:
        - id
        - name
        - type
        - initialBalance
        - currentBalance
        - createdAt
        - updatedAt
    UpdateAccountDto:
      type: object
      properties:
        name:
          type: string
          description: Name of the account
          example: Itaú Checking Account
        type:
          type: string
          description: Type of account
          enum: *ref_13
          example: BANK_ACCOUNT
        initialBalance:
          type: number
          description: Initial balance for the account
          example: 1000
    LoginDto:
      type: object
      properties: {}
    CreateSettingsDto:
      type: object
      properties:
        userName:
          type: string
          description: User name
          example: John Doe
        language:
          type: string
          description: Preferred language
          example: pt-BR
          enum:
            - pt-BR
            - en-US
        currency:
          type: string
          description: Default currency
          example: BRL
          enum:
            - BRL
            - USD
            - EUR
            - GBP
            - JPY
            - CAD
            - AUD
            - CHF
      required:
        - userName
        - language
        - currency
    SettingsResponseDto:
      type: object
      properties:
        userName:
          type: string
          description: User name
          example: John Doe
        language:
          type: string
          description: Preferred language
          example: pt-BR
          enum:
            - pt-BR
            - en-US
        currency:
          type: string
          description: Default currency
          example: BRL
          enum:
            - BRL
            - USD
            - EUR
            - GBP
            - JPY
            - CAD
            - AUD
            - CHF
        createdAt:
          type: string
          description: Settings creation date
          example: '2024-01-15T10:30:00.000Z'
        updatedAt:
          type: string
          description: Settings last update date
          example: '2024-01-15T10:30:00.000Z'
      required:
        - userName
        - language
        - currency
        - createdAt
        - updatedAt
    UpdateSettingsDto:
      type: object
      properties:
        userName:
          type: string
          description: User name
          example: John Doe
        language:
          type: string
          description: Preferred language
          example: pt-BR
          enum:
            - pt-BR
            - en-US
        currency:
          type: string
          description: Default currency
          example: BRL
          enum:
            - BRL
            - USD
            - EUR
            - GBP
            - JPY
            - CAD
            - AUD
            - CHF
    ImportDataDto:
      type: object
      properties: {}
    CreateTransferDto:
      type: object
      properties:
        sourceAccountId:
          type: string
          description: ID of the source account
        destinationAccountId:
          type: string
          description: ID of the destination account
        amount:
          type: number
          description: Amount to transfer
          minimum: 0.01
        date:
          type: string
          description: Date of the transfer (YYYY-MM-DD)
          example: '2026-02-17'
      required:
        - sourceAccountId
        - destinationAccountId
        - amount
        - date
    TransferResponseDto:
      type: object
      properties:
        id:
          type: string
        sourceAccountId:
          type: string
        destinationAccountId:
          type: string
        amount:
          type: number
        date:
          type: string
          description: Date of the transfer (YYYY-MM-DD)
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
      required:
        - id
        - sourceAccountId
        - destinationAccountId
        - amount
        - date
        - createdAt
        - updatedAt
    UpdateTransferDto:
      type: object
      properties:
        sourceAccountId:
          type: string
          description: ID of the source account
        destinationAccountId:
          type: string
          description: ID of the destination account
        amount:
          type: number
          description: Amount to transfer
          minimum: 0.01
        date:
          type: string
          description: Date of the transfer (YYYY-MM-DD)
          example: '2026-02-17'
security:
  - api-key: []
